import{b as B,$ as y,a as G,g as I,c as H,i as O,d as J,F as Q,e as U,f as T,h as Z,t as V}from"./index.717d9b44.js";const x=Symbol("store-raw"),A=Symbol("store-node"),ee=Symbol("store-name");function K(e,n){let t=e[y];if(!t){Object.defineProperty(e,y,{value:t=new Proxy(e,oe)});const o=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,l=o.length;i<l;i++){const u=o[i];if(r[u].get){const s=r[u].get.bind(t);Object.defineProperty(e,u,{get:s})}}}return t}function _(e){let n;return e!=null&&typeof e=="object"&&(e[y]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function b(e,n=new Set){let t,o,r,i;if(t=e!=null&&e[x])return t;if(!_(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let l=0,u=e.length;l<u;l++)r=e[l],(o=b(r,n))!==r&&(e[l]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const l=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let s=0,f=l.length;s<f;s++)i=l[s],!u[i].get&&(r=e[i],(o=b(r,n))!==r&&(e[i]=o))}return e}function P(e){let n=e[A];return n||Object.defineProperty(e,A,{value:n={}}),n}function w(e,n,t){return e[n]||(e[n]=W(t,!0))}function ne(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===y||n===A||n===ee||(delete t.value,delete t.writable,t.get=()=>e[y][n]),t}function m(e){if(I()){const n=P(e);(n._||(n._=W()))()}}function te(e){return m(e),Reflect.ownKeys(e)}function W(e,n){const[t,o]=H(e,n?{internal:!0}:{equals:!1,internal:!0});return t.$=o,t}const oe={get(e,n,t){if(n===x)return e;if(n===y)return t;if(n===G)return m(e);const o=P(e),r=o[n];let i=r?o[n]():e[n];if(n===A||n==="__proto__")return i;if(!r){const l=Object.getOwnPropertyDescriptor(e,n);I()&&(typeof i!="function"||e.hasOwnProperty(n))&&!(l&&l.get)&&(i=w(o,n,i)())}return _(i)?K(i):i},set(){return!0},deleteProperty(){return!0},ownKeys:te,getOwnPropertyDescriptor:ne};function $(e,n,t){if(e[n]===t)return;const o=e[n],r=e.length;t===void 0?delete e[n]:e[n]=t;let i=P(e),l;(l=w(i,n,o))&&l.$(()=>t),Array.isArray(e)&&e.length!==r&&(l=w(i,"length",r))&&l.$(e.length),(l=i._)&&l.$()}function z(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const r=t[o];$(e,r,n[r])}}function ie(e,n){if(typeof n=="function"&&(n=n(e)),n=b(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const r=n[t];e[t]!==r&&$(e,t,r)}$(e,"length",o)}else z(e,n)}function p(e,n,t=[]){let o,r=e;if(n.length>1){o=n.shift();const l=typeof o,u=Array.isArray(e);if(Array.isArray(o)){for(let s=0;s<o.length;s++)p(e,[o[s]].concat(n),t);return}else if(u&&l==="function"){for(let s=0;s<e.length;s++)o(e[s],s)&&p(e,[s].concat(n),t);return}else if(u&&l==="object"){const{from:s=0,to:f=e.length-1,by:c=1}=o;for(let a=s;a<=f;a+=c)p(e,[a].concat(n),t);return}else if(n.length>1){p(e[o],n,[o].concat(t));return}r=e[o],t=[o].concat(t)}let i=n[0];typeof i=="function"&&(i=i(r,t),i===r)||o===void 0&&i==null||(i=b(i),o===void 0||_(r)&&_(i)&&!Array.isArray(i)?z(r,i):$(e,o,i))}function re(e,n){const t=b(e||{}),o=Array.isArray(t),r=K(t);function i(...l){B(()=>{o&&l.length===1?ie(t,l[0]):p(t,l)})}return[r,i]}const S=new WeakMap,L={get(e,n){if(n===x)return e;const t=e[n];let o;return _(t)?S.get(t)||(S.set(t,o=new Proxy(t,L)),o):t},set(e,n,t){return $(e,n,b(t)),!0},deleteProperty(e,n){return $(e,n,void 0),!0}};function E(e){return n=>{if(_(n)){let t;(t=S.get(n))||S.set(n,t=new Proxy(n,L)),e(t)}return n}}const se="_App_1v6if_1",le="_logo_1v6if_9",ce="_header_1v6if_21",fe="_link_1v6if_43";var F={App:se,logo:le,"logo-spin":"_logo-spin_1v6if_1",header:ce,link:fe};const ue=V('<div><header><ul></ul><h2>Add Suggestion</h2><form><input name="text" type="text" placeholder="Add suggestion here"><button type="submit">Add Suggestion</button></form></header></div>'),de=V("<li> <strong>Votes:</strong> <!> <button>Add Vote</button><button>Remove Vote</button><button>Delete Suggestion</button></li>"),ge=()=>{let e,n=0;const[t,o]=re([]),r=s=>{s.preventDefault(),e&&o(E(f=>{f.push({id:n++,text:e.value,votes:0})}))},i=(s,f)=>{if(f.preventDefault(),confirm("Are you sure you want to delete this suggestion? This cannot be undone")){const c=t.findIndex(a=>a.id===s);o(E(a=>{a.splice(c,1)}))}},l=s=>{const f=t.findIndex(c=>c.id===s);o([f],"votes",c=>++c),console.log(t[0].votes)},u=s=>{const f=t.findIndex(c=>c.id===s);o([f],"votes",c=>c>0?--c:0),console.log(t[0].votes)};return(()=>{const s=ue.cloneNode(!0),f=s.firstChild,c=f.firstChild,a=c.nextSibling,k=a.nextSibling,D=k.firstChild;O(c,J(Q,{each:t,children:d=>(()=>{const g=de.cloneNode(!0),h=g.firstChild,M=h.nextSibling,q=M.nextSibling,N=q.nextSibling,X=N.nextSibling,R=X.nextSibling,C=R.nextSibling,Y=C.nextSibling;return O(g,()=>d.text,h),O(g,()=>d.votes,N),R.$$click=v=>l(d.id),C.$$click=v=>u(d.id),Y.$$click=v=>i(d.id,v),g})()})),k.addEventListener("submit",r);const j=e;return typeof j=="function"?j(D):e=D,U(d=>{const g=F.App,h=F.header;return g!==d._v$&&T(s,d._v$=g),h!==d._v$2&&T(f,d._v$2=h),d},{_v$:void 0,_v$2:void 0}),s})()};Z(["click"]);export{ge as default};
